## Разработка веб приложения с использованием докер контейнеров 

Что реализовано в данном проекте?
1) Новостной сайт про аниме (просто красивые страницы с новостями, на которых почти нет логики php), в основном на них используюся такие языки.Упор сделан на работу с бд, а на визуал.
- html
- css
- немного javascript

2) Форум для общения, где можно просмотреть все сообщения пользователей, которые оставили пользователи. Упор сделан на работу с бд, а НЕ на визуал.
- mysql
- php

3) Авторизация и регистрация пользователей с выбором уровня привелегий (пользователь, администратор, модератор)
- Пользователь
- Администратор
- Модератор

4) Профили пользователей, которые отличаются в зависимости от выбранного уровня привелегий. Упор сделан на работу с бд, а НЕ на визуал.
- Возможности пользователя уменьшаются в зависмости от уровня привелегий
- Самый высокий уровень полномочий у админа, остальные лишь дублируют части его функций

5) Реализовано разделение на 4 микросервиса, которые работают в одной сети по умолчанию
- nginx
- php
- mysql
- phpmyadmin



### Начало работы с докером
В папке /src лежит основа сайта и весь его php функционал
В папке docker лежит настройка nginx и и Dockerfile для php
В корне лежит файл docker-compose, который создает все настройки и запускает 4 контейнера для их совместной работы. В нем указаны останые настройки.

#### Запуск приложения
Шаг 1: Установить приложение Docker Desktop и создать новую директория (папку на компе в любом месте)

Шаг 2: Открыть эту папку и скачать проект 

    git pull (ссылка проекта) 

Далее для работы нам понадобится всего 3 команды, ведь все останое прописано в файле docker-compose

Шаг 3: Для начала собрать проект:

    docker-compose build   

Шаг 4: После долгого скачивания образов нужно запустить контейнер, с тегом -d чтобы не заблокировался терминал:
    
    docker-compose up -d  

_NOTE: creating docker-network in optional. You can start both containers in a default network. In this case, just emit `--net` flag in `docker run` command_

Шаг 4:  Если нужно остановить контейнер выполните эту команду

    docker-compose down

или можно просто выполнять сразу три команды каждый раз

    docker-compose down
    docker-compose build
    docker-compose up -d


Шаг 5: Вы можете получить доступ к phpmyadmin по ссылке
    http://localhost:1500/


Шаг 6: Доступ к странице автоизации на сайте доступен по ссылке
    http://localhost:80/

Step 6: Start your nodejs application locally - go to `app` directory of project 

    npm install 
    node server.js
    
Step 7: Access you nodejs application UI from browser

    http://localhost:3000


#### Возможные проблемы

1) Если не работает докер в РФ, нужно вставить следующий код во вкладке Docker Engine перейдя в Настройки приложения Docker Desktop:

    {
  ...
  "registry-mirrors": [
    "https://mirror.gcr.io",
    "https://daocloud.io",
    "https://c.163.com/",
    "https://registry.docker-cn.com",
    "https://dockerhub.timeweb.cloud"
  ]
 }

2) Если не работает бд, нужно создать в phpmyadmin новую бд с название "my_one_database" и импортировать в неё файл sql лежащий в проекте

3) На старых версияъ Docker Desktop приложение может не собираться, причина неизвестна



#### Дополнительная информация о проекте


